{"version":3,"sources":["components/SelectSeats.jsx","components/SignUpForm.jsx","components/SelectBus.jsx","components/PlanTrip.jsx","components/PaymentForm.jsx","components/ViewTickets.jsx","components/Footer.jsx","components/Main.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["SelectSeats","props","handleChange","e","num","createNew","state","forms","forEach","form","index","seatNumber","formsCopy","eval","target","name","setState","console","log","value","gender","push","formsCopyy","formIndex","erase","selectedSeats","seatIndex","splice","MyBusContainer","bind","MySummaryContainer","createSeats","handleSelectedSeats","handleSubmit","userId","window","sessionStorage","getItem","busId","undefined","location","bus","id","date","getBusDetails","busDetails","unavailableSeats","reason","document","getElementById","style","backgroundColor","disabled","validData","flag","valid","this","length","JSON","parse","setItem","stringify","replace","origin","obj","axios","post","then","res","Boolean","data","catch","err","setTimeout","totalSeats","i","indexOf","String","seats","className","onClick","arr","Number","from","to","travelTime","busType","map","type","onChange","placeholder","htmlFor","busFare","Math","floor","React","Component","SignUpForm","email","mobileNumber","password","dateOfBirth","signup","preventDefault","colour","history","back","onSubmit","color","SelectBus","busesArray","selectBus","departure","arrival","seatsAvailable","pathname","_id","require","default","PlanTrip","handleReset","fromArray","toArray","planTrip","get","start","Date","getTime","end","oneDay","startDate","toISOString","substr","endDate","action","selected","city","min","max","PaymentForm","validateForm","transactionId","random","cardType","cardNumber","cardName","cvv","expiryDate","error","loggedIn","ticketsCreated","validCopy","errorCopy","replaceAll","border","required","ViewTickets","viewTickets","ticketsArray","buses","tickets","ticket","travelDate","Footer","Main","Header","Login","handleChangeLogin","handleSubmitLogin","removeItem","href","login","exact","path","component","App","basename","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"igEAIMA,Y,wfACF,qBAAYC,OAAO,IAAD,uPACd,uBAAMA,OADQ,MA8ElBC,aAAe,SAACC,EAAEC,KAEd,IAAIC,WAAY,EAaZ,GAXJ,MAAKC,MAAMC,MAAMC,SAAQ,SAACC,KAAMC,OAC5B,GAAGD,KAAKE,aAAeP,IAAI,CACvB,IAAIQ,UAAY,MAAKN,MAAMC,MAC3BM,KAAK,oBAAsBV,EAAEW,OAAOC,KAA/B,2BACL,MAAKC,SAAS,CAACT,MAAOK,YACtBK,QAAQC,IAAI,YAAY,MAAKZ,MAAMC,OAEnCF,WAAY,OAIC,IAAdA,UAAmB,CAClB,IAAII,KAAO,CACPE,WAAYP,IACZW,KAAuB,SAAjBZ,EAAEW,OAAOC,KAAgBZ,EAAEW,OAAOK,MAAO,GAC/CC,OAAyB,WAAjBjB,EAAEW,OAAOC,KAAkBZ,EAAEW,OAAOK,MAAO,IAEnDP,UAAY,MAAKN,MAAMC,MAC3BK,UAAUS,KAAKZ,MACf,MAAKO,SAAS,CAACT,MAAOK,YACtBK,QAAQC,IAAI,YAAY,MAAKZ,MAAMC,OAEvC,IAAIe,WAAa,MAAKhB,MAAMC,MAC5B,MAAKD,MAAMC,MAAMC,SAAQ,SAACC,EAAKc,GAC3B,IAAIC,GAAQ,EACZ,MAAKlB,MAAMmB,cAAcjB,SAAQ,SAACG,EAAYe,GACvCjB,EAAKE,aAAeA,IACnBa,GAAQ,MAGbA,GACCF,WAAWK,OAAOJ,EAAU,MAGpC,MAAKP,SAAS,CAACT,MAAOe,cAlH1B,MAAKM,eAAiB,MAAKA,eAAeC,KAApB,uOACtB,MAAKC,mBAAqB,MAAKA,mBAAmBD,KAAxB,uOAC1B,MAAKE,YAAc,MAAKA,YAAYF,KAAjB,uOACnB,MAAKG,oBAAsB,MAAKA,oBAAoBH,KAAzB,uOAC3B,MAAK3B,aAAe,MAAKA,aAAa2B,KAAlB,uOACpB,MAAKI,aAAe,MAAKA,aAAaJ,KAAlB,uOAEpB,MAAKvB,MAAQ,CACT4B,OAAQC,OAAOC,eAAeC,QAAQ,UAEtCC,WAAmCC,IAA5B,MAAKtC,MAAMuC,SAASC,IAAoBN,OAAOC,eAAeC,QAAQ,SAAU,MAAKpC,MAAMuC,SAASC,IAAIC,GAC/GC,UAAkCJ,IAA5B,MAAKtC,MAAMuC,SAASC,IAAoBN,OAAOC,eAAeC,QAAQ,QAAS,MAAKpC,MAAMuC,SAASC,IAAIE,KAC7GC,eAAe,EACfC,WAAY,GACZpB,cAAe,GACfqB,iBAAkB,GAElBC,OAAQ,GACRxC,MAAO,CAAC,CAACI,WAAY,EAAGI,KAAM,GAAGK,OAAQ,MApB/B,M,mQAwBlB,WAAe,IAAD,OACV4B,SAASC,eAAe,cAAcC,MAAMC,gBAAgB,OAC5DH,SAASC,eAAe,cAAcG,UAAS,EAE/C,IAAIC,GAAY,EACZC,GAAO,EACPC,GAAQ,EACZtC,QAAQC,IAAIsC,KAAKlD,MAAMC,OACvBiD,KAAKlD,MAAMC,MAAMC,SAAQ,SAACC,GACP,KAAZA,EAAKM,MAA2B,KAAdN,EAAKW,SACtBiC,GAAY,EAC2B,IAApC,EAAK/C,MAAMmB,cAAcgC,OACxB,EAAKzC,SAAS,CAAC+B,OAAQ,6DAEvB,EAAK/B,SAAS,CAAC+B,OAAQ,2DAM/B,EAAKzC,MAAMmB,cAAcjB,SAAQ,SAACG,GAC3BF,EAAKE,aAAeA,IACnB2C,GAAO,MAIXC,KADDA,GAASD,GAAQD,MAQrBG,KAAKlD,MAAMC,MAAMkD,SAAWD,KAAKlD,MAAMmB,cAAcgC,SACpDF,GAAQ,GAEPG,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,cAAgBmB,KAAKlD,MAAMsC,gBACrEW,GAAO,GAEXtC,QAAQC,IAAI,UAAUqC,GACnBA,IAECpB,OAAOC,eAAewB,QAAQ,QAASF,KAAKG,UAAUL,KAAKlD,MAAMC,QACjE4B,OAAOC,eAAewB,QAAQ,aAAcF,KAAKG,UAAUL,KAAKlD,MAAMmB,gBACtEuB,SAASC,eAAe,cAAcC,MAAMC,gBAAgB,QAC5DH,SAASC,eAAe,cAAcG,UAAS,EAE/CjB,OAAOK,SAASsB,QAAhB,UAA2B3B,OAAOK,SAASuB,OAA3C,cAEJf,SAASC,eAAe,cAAcC,MAAMC,gBAAgB,QACxDH,SAASC,eAAe,cAAcG,UAAS,I,+BA6CvD,WAAoB,IAAD,YAGgBb,IAA5BiB,KAAKvD,MAAMuC,SAASC,MACnBN,OAAOC,eAAewB,QAAQ,QAAQJ,KAAKvD,MAAMuC,SAASC,IAAIC,IAC9DP,OAAOC,eAAewB,QAAQ,OAAOJ,KAAKvD,MAAMuC,SAASC,IAAIE,OAEjE,IAAMqB,EAAM,CACR1B,MAAOkB,KAAKlD,MAAMgC,MAClBK,KAAMa,KAAKlD,MAAMqC,MAErBsB,6CAAMC,KAAK,wEAAyEF,GAEnFG,MAAK,SAACC,GACAC,QAAQD,EAAIE,KAAK1B,gBAChB,EAAK5B,SAAS,CAAC4B,eAAe,IAC9B,EAAK5B,SAAS,CAAC6B,WAAYuB,EAAIE,KAAKzB,WAAW,KAC/C,EAAK7B,SAAS,CAAC8B,iBAAkBsB,EAAIE,KAAKxB,oBAG1C,EAAK9B,SAAS,CAAC+B,OAAQqB,EAAIE,KAAKvB,YAGvCwB,OAAM,SAACC,GACJ,EAAKxD,SAAS,CAAC+B,OAAQ,gBACvB9B,QAAQC,IAAIsD,MAEfL,MAAK,WACFM,YAAW,WAEP,IADA,IAAIC,EAAa,EAAKpE,MAAMuC,WAAW6B,WAC/BC,EAAE,EAAGA,GAAGD,EAAYC,GAAG,EAAE,CAClB,EAAKrE,MAAMwC,iBACC8B,QAAQD,IAAM,IAEjC3B,SAASC,eAAe4B,OAAOF,IAAIzB,MAAMC,gBAAgB,OACzDH,SAASC,eAAe4B,OAAOF,IAAIvB,UAAW,GAGtDnC,QAAQC,IAAI,EAAKZ,SAClB,S,yBAMX,WAGI,IAFA,IAAIwE,EAAQ,GACRJ,EAAalB,KAAKlD,MAAMuC,WAAW6B,WAC/BC,EAAE,EAAEA,GAAGD,EAAWC,GAAI,EAC1BG,EAAK,qOAAOA,GAAP,CAAc,sEAAQC,UAAU,QAAQrC,GAAKmC,OAAOF,GAAIK,QAASxB,KAAKxB,oBAAxD,kBAAmF2C,OAEtG,OAAO,mIAAIG,EAAJ,S,iCAEf,SAAoB3E,GAGhB,IAFeuD,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,aAIpD,OADAmB,KAAKxC,SAAS,CAAC+B,OAAQ,wCAChB,EAEXS,KAAKxC,SAAS,CAAC+B,OAAQ,KAEvB9B,QAAQC,IAAIf,EAAEW,OAAOC,MACrB,IAAIkE,EAAMzB,KAAKlD,MAAMmB,cACjBN,EAAQ+D,OAAO/E,EAAEW,OAAO4B,IACxBhC,EAAQuE,EAAIL,QAAQzD,GACrBT,GAAS,EACRuE,EAAItD,OAAOjB,EAAO,GAGlBuE,EAAI5D,KAAKF,GAEbqC,KAAKxC,SAAS,CAACS,cAAewD,IAC9BhE,QAAQC,IAAI+D,GACZhE,QAAQC,IAAIsC,KAAKlD,MAAMmB,eACvB,IAAI,IAAIkD,EAAE,EAAGA,GAAG,GAAIA,GAAG,EAAE,CAErB,IAAIlD,EAAgBwD,EAAIL,QAAQD,IAAM,EAC3BnB,KAAKlD,MAAMwC,iBACM8B,QAAQD,IAAM,IAKtC3B,SAASC,eAAe4B,OAAOF,IAAIzB,MAAMC,gBADrC1B,EACqD,UAEA,Y,4BAIrE,WACI,OACI,kEAAKiB,GAAG,eAAR,SACI,kEAAKA,GAAG,MAAR,SACKc,KAAKzB,oB,gCAMtB,WAAqB,IAAD,OAChB,OACI,kEAAKW,GAAG,mBAAR,SACI,mEAAKA,GAAG,UAAR,UACI,8FACA,iFACI,qFACA,4EAAOc,KAAKlD,MAAMuC,WAAWsC,UAEjC,iFACI,mFACA,4EAAO3B,KAAKlD,MAAMuC,WAAWuC,QAEjC,iFACI,qFACA,4EAAO5B,KAAKlD,MAAMqC,UAEtB,iFACI,4FACA,4EAAOa,KAAKlD,MAAMuC,WAAWwC,gBAEjC,iFACI,yFACA,8EAAO7B,KAAKlD,MAAMuC,WAAWyC,QAA7B,KAAwC9B,KAAKlD,MAAMuC,WAAW6B,iBAI9DlB,KAAKlD,MAAMmB,cAAc8D,KAAI,SAACnF,GAC1B,OACA,+HACI,iFACI,wFACA,4EAAOA,OAEX,8EACI,oEAAOoF,KAAK,OAAOC,SAAU,SAACtF,GAAD,OAAK,EAAKD,aAAaC,EAAEC,IAAMW,KAAK,OAAO2E,YAAY,SACpF,qEAAOC,QAAS,eAAevF,EAA/B,UACI,oEAAOoF,KAAK,QAAQC,SAAU,SAACtF,GAAD,OAAK,EAAKD,aAAaC,EAAEC,IAAMe,MAAM,OAAOuB,GAAI,eAAetC,EAAKW,KAAK,WAD3G,UAIA,qEAAO4E,QAASvF,EAAI,eAAeA,EAAnC,UACI,oEAAOoF,KAAK,QAAQC,SAAU,SAACtF,GAAD,OAAK,EAAKD,aAAaC,EAAEC,IAAMe,MAAM,SAASuB,GAAItC,EAAI,eAAeA,EAAMW,KAAK,WADlH,qBAShB,iFACI,4FACA,4EAAOyC,KAAKlD,MAAMmB,cAAcgC,YAEpC,iFACI,qFACA,oFAAUD,KAAKlD,MAAMuC,WAAW+C,QAAUpC,KAAKlD,MAAMmB,cAAcgC,aAEvE,iFACI,4FACA,oFAAYD,KAAKlD,MAAMuC,WAAW+C,QAAUpC,KAAKlD,MAAMmB,cAAcgC,OAAU,SAEnF,iFACI,gGACA,oFAAUoC,KAAKC,MAAOtC,KAAKlD,MAAMuC,WAAW+C,QAAUpC,KAAKlD,MAAMmB,cAAcgC,OAAU,QACxFtB,OAAOC,eAAewB,QAAQ,cAAeiC,KAAKC,MAAOtC,KAAKlD,MAAMuC,WAAW+C,QAAUpC,KAAKlD,MAAMmB,cAAcgC,OAAU,SAEjI,qEAAQuB,QAASxB,KAAKvB,aAAcS,GAAG,aAAvC,wC,oBAOhB,WACI,OACI,+HACA,mEAAKA,GAAG,uBAAR,UACKc,KAAK5B,iBACL4B,KAAK1B,wBAEV,kEAAKY,GAAG,WAAR,SACI,yEAAKc,KAAKlD,MAAMyC,kB,aA7SNgD,6CAAMC,WAsTjBhG,mC,sNC5MAiG,E,kDAzGX,WAAYhG,GAAO,IAAD,8BACd,cAAMA,IAIDC,aAAe,EAAKA,aAAa2B,KAAlB,gBACpB,EAAKI,aAAe,EAAKA,aAAaJ,KAAlB,gBAEpB,EAAKvB,MAAQ,CACTS,KAAM,GACNmF,MAAO,GACPC,aAAc,GACdC,SAAU,GACVC,YAAa,GACbjF,OAAQ,GACR2B,OAAQ,GACRuD,QAAQ,GAhBE,E,qDAoBlB,WACI9C,KAAKxC,SAAS,CAACsF,OAAQ5C,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,e,0BAEpE,SAAalC,GACTqD,KAAKxC,SAAL,eAAiBb,EAAEW,OAAOC,KAAOZ,EAAEW,OAAOK,U,0BAE9C,SAAahB,GAAI,IAAD,OACZA,EAAEoG,iBAEFvD,SAASC,eAAe,oBAAoBG,UAAW,EACvD,IAAMoD,EAASxD,SAASC,eAAe,oBAAoBC,MAAMC,gBACjEH,SAASC,eAAe,oBAAoBC,MAAMC,gBAAkB,OAEpE,IAAIa,EAAM,CACNjD,KAAMyC,KAAKlD,MAAMS,KACjBmF,MAAO1C,KAAKlD,MAAM4F,MAClBC,aAAc3C,KAAKlD,MAAM6F,aACzBC,SAAU5C,KAAKlD,MAAM8F,SACrBC,YAAa7C,KAAKlD,MAAM+F,YACxBjF,OAAQoC,KAAKlD,MAAMc,QAEvBH,QAAQC,IAAI8C,GACZC,IAAMC,KAAK,qDAAqDF,GAC/DG,MAAK,SAACC,GACH,EAAKpD,SAAS,CAAC+B,OAAQqB,EAAIE,KAAKvB,SAChC,EAAK/B,SAAS,CAACsF,OAAQlC,EAAIE,KAAKgC,SAChCnE,OAAOC,eAAewB,QAAQ,SAAUQ,EAAIE,KAAKgC,QAC9ClC,EAAIE,KAAKgC,QACR7B,YAAW,WACPtC,OAAOsE,QAAQC,SACjB,QAITnC,OAAM,SAACC,GACJ,EAAKxD,SAAS,CAAC+B,OAAQ,0BAE1BoB,MAAK,WACE,EAAK7D,MAAMgG,SACXtD,SAASC,eAAe,oBAAoBG,UAAW,EACvDJ,SAASC,eAAe,oBAAoBC,MAAMC,gBAAkBqD,Q,oBAKhF,WAEI,OAAGhD,KAAKlD,MAAMgG,OAEV,sBAAM5D,GAAG,aAAaiE,SAAUnD,KAAKvB,aAArC,SACI,oBAAIiB,MAAO,CAAC0D,MAAO,SAAnB,0FAMA,uBAAMlE,GAAG,aAAaiE,SAAUnD,KAAKvB,aAArC,UACA,oEACA,uBAAOuD,KAAK,OAAOzE,KAAK,OAAO0E,SAAUjC,KAAKtD,aAAcwF,YAAY,SACxE,uBAAOF,KAAK,QAAQzE,KAAK,QAAQ0E,SAAUjC,KAAKtD,aAAcwF,YAAY,aAC1E,uBAAOF,KAAK,MAAMzE,KAAK,eAAe0E,SAAUjC,KAAKtD,aAAcwF,YAAY,kBAC/E,uBAAOF,KAAK,WAAWzE,KAAK,WAAW0E,SAAUjC,KAAKtD,aAAcwF,YAAY,aAEhF,iDAGA,uBAAOF,KAAK,OAAOzE,KAAK,cAAc0E,SAAUjC,KAAKtD,eACrD,gCACI,wBAAOyF,QAAQ,WAAf,UACI,uBAAOH,KAAK,QAAQ9C,GAAG,WAAW3B,KAAK,SAASI,MAAM,OAAOsE,SAAUjC,KAAKtD,eADhF,OAEQ,0BAER,wBAAOyF,QAAQ,WAAf,UACI,uBAAOH,KAAK,QAAQ9C,GAAG,WAAW3B,KAAK,SAASI,MAAM,SAASsE,SAAUjC,KAAKtD,eADlF,eAKJ,wBAAQwC,GAAG,mBAAmB8C,KAAK,SAAnC,qBACA,oBAAItC,MAAO,CAAC0D,MAAO,OAAnB,SAA4BpD,KAAKlD,MAAMyC,gB,GAnG9BgD,IAAMC,WCkFhBa,E,kDAhFX,WAAY5G,GAAO,IAAD,8BACd,cAAMA,IAGDK,MAAQ,CACTwG,WAAY,GACZC,WAAW,EACXhE,OAAQ,IAPE,E,qDAUlB,WAAoB,IAAD,OACf9B,QAAQC,IAAIsC,KAAKvD,OACjBgE,IAAMC,KAAK,wDAAyDV,KAAKvD,OAExEkE,MAAK,SAACC,GACAC,QAAQD,EAAIE,KAAKyC,YAChB,EAAK/F,SAAS,CAAC8F,WAAY1C,EAAIE,KAAKwC,aACpC,EAAK9F,SAAS,CAAC+F,UAAW3C,EAAIE,KAAKyC,YACnC,EAAK/F,SAAS,CAAC+B,OAAQ,KACvB9B,QAAQC,IAAI,EAAKZ,QAGjB,EAAKU,SAAS,CAAC+B,OAAQqB,EAAIE,KAAKvB,YAGvCwB,OAAM,SAACC,GACJ,EAAKxD,SAAS,CAAC+B,OAAQ,gBACvB9B,QAAQC,IAAIsD,Q,oBAMpB,WAAS,IAAD,OACJ,OACI,sBAAK9B,GAAG,qBAAR,UACI,2CACA,qBAAKA,GAAG,YAAR,SACI,wBAAOA,GAAG,iBAAV,UACI,+BACI,0CACA,2CACA,yCACA,6CACA,sCACA,iDACA,sCACA,0BAKIc,KAAKlD,MAAMwG,WAAWvB,KAAI,SAAC9C,GACvB,OACI,+BACI,6BAAKA,EAAI6C,UACT,6BAAK7C,EAAIuE,YACT,6BAAKvE,EAAIwE,UACT,6BAAKxE,EAAI4C,aACT,6BAAK,EAAKpF,MAAM0C,OAChB,6BAAKF,EAAIyE,iBACT,6BAAKzE,EAAImD,UACT,6BAAI,cAAC,IAAD,CAAMR,GAAI,CACV+B,SAAU,eACV1E,IAAK,CACDC,GAAID,EAAI2E,IACRzE,KAAM,EAAK1C,MAAM0C,OAJrB,SAMD,sE,GArEvBoD,IAAMC,WCHxB/B,EAAQoD,EAAQ,IAASC,QA6IhBC,E,kDAvIX,WAAYtH,GAAO,IAAD,8BACd,cAAMA,IAGDgC,aAAe,EAAKA,aAAaJ,KAAlB,gBACpB,EAAK3B,aAAe,EAAKA,aAAa2B,KAAlB,gBACpB,EAAK2F,YAAc,EAAKA,YAAY3F,KAAjB,gBAEnB,EAAKvB,MAAQ,CACTmH,UAAW,GACXC,QAAS,GACTC,UAAU,EACV5E,OAAQ,GACRoC,KAAM,GACNC,GAAI,GACJzC,KAAM,GACNoE,WAAW,GAhBD,E,gDAoBlB,SAAa5G,GACTA,EAAEoG,iBACC/C,KAAKlD,MAAM6E,MAAQ3B,KAAKlD,MAAM8E,IAAM5B,KAAKlD,MAAMqC,MAC9Ca,KAAKxC,SAAS,CAAC+F,WAAW,IAC1BvD,KAAKxC,SAAS,CAAC+B,OAAQ,OAEvBS,KAAKxC,SAAS,CAAC+F,WAAW,IAC1BvD,KAAKxC,SAAS,CAAC+B,OAAQ,mC,0BAK/B,SAAa5C,GACTqD,KAAKxC,SAAL,eAAgBb,EAAEW,OAAOC,KAAOZ,EAAEW,OAAOK,QACzCqC,KAAKxC,SAAS,CAAC+F,WAAW,IACvBvD,KAAKlD,MAAMyC,QACVS,KAAKxC,SAAS,CAAC+B,OAAQ,O,yBAI/B,SAAY5C,GACRqD,KAAKxC,SAAS,CAACmE,KAAM,KACrB3B,KAAKxC,SAAS,CAACoE,GAAI,KACnB5B,KAAKxC,SAAS,CAAC2B,KAAM,KACrBa,KAAKxC,SAAS,CAAC+F,WAAW,M,+BAG9B,WAAoB,IAAD,OAEf9C,EAAM2D,IAAI,wDAETzD,MAAK,SAACC,GAEAC,QAAQD,EAAIE,KAAKqD,WAChB,EAAK3G,SAAS,CAACyG,UAAWrD,EAAIE,KAAKa,OACnC,EAAKnE,SAAS,CAAC0G,QAAStD,EAAIE,KAAKc,KACjC,EAAKpE,SAAS,CAAC2G,UAAU,MAIzB,EAAK3G,SAAS,CAAC2G,UAAU,IACzB,EAAK3G,SAAS,CAAC+B,OAAQqB,EAAIE,KAAKvB,aAIvCwB,OAAM,SAACC,GACJ,EAAKxD,SAAS,CAAC2G,UAAU,IACzB,EAAK3G,SAAS,CAAC+B,OAAQ,qB,oBAK/B,WAEI,IACM8E,GAAQ,IAAIC,MAAOC,UACnBC,EAAMH,EAAQI,OACdC,EAAY,IAAIJ,KAAKD,GAAOM,cAAcC,OAAO,EAAE,IACnDC,EAAU,IAAIP,KAAKE,GAAKG,cAAcC,OAAO,EAAE,IAErD,OACI,qCACI,uBAAMzB,SAAUnD,KAAKvB,aAAcS,GAAG,eAAe4F,OAAO,GAA5D,UACI,+CACA,qBAAK5F,GAAG,WAAR,SACI,wBAAOA,GAAG,gBAAV,UACI,+BACI,sCACA,oCACA,6CACA,0BAEJ,+BACI,6BACI,yBAAQ3B,KAAK,OAAO0E,SAAUjC,KAAKtD,aAAnC,UACI,wBAAQqI,UAAQ,EAACpH,MAAM,GAAvB,sBAEAqC,KAAKlD,MAAMmH,UAAUlC,KAAI,SAACiD,GACtB,OAAO,yBAAQrH,MAAOqH,EAAf,cAAuBA,EAAvB,eAKnB,6BACI,yBAAQzH,KAAK,KAAK0E,SAAUjC,KAAKtD,aAAjC,UACI,wBAAQqI,UAAQ,EAACpH,MAAM,GAAvB,sBAEAqC,KAAKlD,MAAMoH,QAAQnC,KAAI,SAACiD,GACpB,OAAO,yBAAQrH,MAAOqH,EAAf,cAAuBA,EAAvB,eAKnB,6BACI,uBAAOzH,KAAK,OAAO0E,SAAUjC,KAAKtD,aAAcsF,KAAK,OAAOiD,IAAKP,EAAWQ,IAAKL,MAErF,6BACI,wBAAQ7C,KAAK,SAAb,iCAKhB,wBAAQR,QAASxB,KAAKgE,YAAahC,KAAK,QAAxC,mBACA,uBACA,yBAAS9C,GAAG,WAAZ,SAAuB,8BAAMc,KAAKlD,MAAMyC,cAIxCS,KAAKlD,MAAMyG,UAAW,cAAE,EAAF,CAAY5B,KAAM3B,KAAKlD,MAAM6E,KAAMC,GAAI5B,KAAKlD,MAAM8E,GAAIzC,KAAMa,KAAKlD,MAAMqC,OAAU,U,GAjIpGoD,IAAMC,W,QC4Od2C,E,kDA/Ob,WAAY1I,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,aAAe,EAAKA,aAAa2B,KAAlB,gBACpB,EAAK+G,aAAe,EAAKA,aAAa/G,KAAlB,gBACpB,EAAKI,aAAe,EAAKA,aAAaJ,KAAlB,gBAEpB,EAAKvB,MAAQ,CACXuI,cAAehD,KAAKC,MAA4B,KAArBD,KAAKiD,SAAW,IAC3CC,SAAU,GACVC,WAAY,EACZC,SAAU,GACVC,IAAK,EACLC,WAAY,GACZ5F,MAAO,GACP6F,MAAO,IAfQ,E,qDAmBnB,WACuB1F,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,mBAA9D,IACIC,EAAQH,OAAOC,eAAeC,QAAQ,SACtCM,EAAOR,OAAOC,eAAeC,QAAQ,QACrCC,GAAUK,IACZK,SAASC,eAAe,cAAcC,MAAMC,gBAAkB,OAC9DH,SAASC,eAAe,cAAcG,UAAW,K,0BAIrD,SAAajD,GAAI,IAAD,OACdA,EAAEoG,iBACF,IAAI8C,EAAW3F,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,aACpDiH,EAAiB5F,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,mBAC1DC,EAAQH,OAAOC,eAAeC,QAAQ,SACtCM,EAAOR,OAAOC,eAAeC,QAAQ,QAEzC,GAAImB,KAAKoF,aAAazI,IAAMkJ,GAAY/G,GAASK,EAAM,CACrD1B,QAAQC,IAAI,mEACZ,IAAI8C,EAAM,CACR1B,MAAOH,OAAOC,eAAeC,QAAQ,SACrCH,OAAQC,OAAOC,eAAeC,QAAQ,UACtCM,KAAMR,OAAOC,eAAeC,QAAQ,QACpC1B,WAAY+C,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,eACrD9B,MAAOmD,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,WAElDpB,QAAQC,IAAI8C,GACZhB,SAASC,eAAe,cAAcC,MAAMC,gBAAkB,OAC9DH,SAASC,eAAe,cAAcG,UAAW,EACjDa,IACGC,KAAK,sEAAuEF,GAE5EG,MAAK,SAACC,GACLjC,OAAOC,eAAewB,QAAQ,kBAAkB,GAChD0F,GAAiB,KAElB/E,OAAM,SAACC,GACN,EAAKxD,SAAS,CAAEsI,gBAAgB,OAEjCnF,MAAK,WACJnB,SAASC,eAAe,cAAcC,MAAMC,gBAAkB,QAC9DH,SAASC,eAAe,cAAcG,UAAW,GAC1B,IAAnBkG,EACF,EAAKtI,SAAS,CACZ+B,OAAQ,6CAGVC,SAASC,eAAe,cAAcC,MAAMC,gBAAkB,OAC9DH,SAASC,eAAe,cAAcG,UAAW,EACjDjB,OAAOC,eAAewB,QAAQ,kBAAkB,GAEhDzB,OAAOK,SAASsB,QAAhB,UAA2B3B,OAAOK,SAASuB,OAA3C,0BAIN9C,QAAQC,IAAI,gD,0BAIhB,SAAaf,GACXqD,KAAKxC,SAAL,eAAiBb,EAAEW,OAAOC,KAAOZ,EAAEW,OAAOK,QAC1CqC,KAAKoF,aAAazI,K,0BAGpB,SAAaA,GACX,IAAIY,EAAOZ,EAAEW,OAAOC,KAChBI,EAAQhB,EAAEW,OAAOK,MACjBoI,EAAY/F,KAAKlD,MAAMiD,MACvBiG,EAAYhG,KAAKlD,MAAM8I,MAG3B,OAAQrI,GACN,IAAK,WACHwI,EAAUxI,GAAQsD,QAAQlD,GAC1BoI,EAAUxI,GAAMyI,EAAUzI,GAAM,GAAGyI,EAAUzI,GAAM,6BACnD,MAEF,IAAK,aACHwI,EAAUxI,GAAQsD,QAAyB,KAAjBlD,EAAMsC,QAAiBtC,EAAQ,GACzDoI,EAAUxI,GAAMyI,EAAUzI,GAAM,GAAGyI,EAAUzI,GAAM,gCACnD,MAEF,IAAK,WACHZ,EAAEW,OAAOK,MAAQA,EAAMsI,WAAW,gBAAiB,IACnDF,EAAUxI,GAAQsD,QAAQlD,GAC1BoI,EAAUxI,GAAMyI,EAAUzI,GAAM,GAAGyI,EAAUzI,GAAM,uBACnD,MAEF,IAAK,MACHwI,EAAUxI,GAAQsD,QAAyB,IAAjBlD,EAAMsC,QAChC8F,EAAUxI,GAAMyI,EAAUzI,GAAM,GAAGyI,EAAUzI,GAAM,iCACnD,MAEF,IAAK,aACHwI,EAAUxI,GAAQsD,QAAQlD,GAC1BoI,EAAUxI,GAAMyI,EAAUzI,GAAM,GAAGyI,EAAUzI,GAAM,sBACnD,MAEF,IAAK,SACHwI,EAAUxI,GACRwI,EAAUR,UACVQ,EAAUP,YACVO,EAAUN,UACVM,EAAUL,KACVK,EAAUJ,WAShB,GANA3F,KAAKxC,SAAS,CAAEuC,MAAOgG,IACvB/F,KAAKxC,SAAS,CAAEoI,MAAOI,IAKV,WAATzI,EACF,OAAOwI,EAAUxI,GACRwI,EAAUxI,IACnBE,QAAQC,IAAI,SACZf,EAAEW,OAAOoC,MAAMwG,OAAS,oBAExBzI,QAAQC,IAAI,OACZf,EAAEW,OAAOoC,MAAMwG,OAAS,mB,oBAI5B,WACE,OACE,sBAAKhH,GAAG,uBAAR,UACE,gCACE,8CAAiBP,OAAOC,eAAeC,QAAQ,kBAC/C,mDAAsBmB,KAAKlD,MAAMuI,oBAEnC,uBACEnG,GAAG,cACHiE,SAAUnD,KAAKvB,aACflB,KAAK,SACLuH,OAAO,GAJT,UAME,oCACE,6CACA,wBAAO3C,QAAQ,gBAAf,UACE,uBACEH,KAAK,QACLrE,MAAM,OACNuB,GAAG,gBACH3B,KAAK,WACL4I,UAAQ,EACRlE,SAAUjC,KAAKtD,eAPnB,UAWA,wBAAOyF,QAAQ,gBAAf,UACE,uBACEH,KAAK,QACLrE,MAAM,aACNuB,GAAG,gBACH3B,KAAK,WACL4I,UAAQ,EACRlE,SAAUjC,KAAKtD,eAPnB,gBAWA,uBACA,qBAAKwC,GAAG,WAAR,SAAmB,4BAAIc,KAAKlD,MAAM8I,MAAML,gBAE1C,oCACE,+CACA,uBACEvD,KAAK,SACLzE,KAAK,aACL4I,UAAQ,EACRlE,SAAUjC,KAAKtD,eAEjB,uBACA,qBAAKwC,GAAG,WAAR,SAAmB,4BAAIc,KAAKlD,MAAM8I,MAAMJ,kBAE1C,oCACE,gDACA,uBACExD,KAAK,OACLzE,KAAK,WACL4I,UAAQ,EACRlE,SAAUjC,KAAKtD,eAEjB,uBACA,qBAAKwC,GAAG,WAAR,SAAmB,4BAAIc,KAAKlD,MAAM8I,MAAMH,gBAE1C,oCACE,uCACA,uBACEzD,KAAK,SACLzE,KAAK,MACL4I,UAAQ,EACRlE,SAAUjC,KAAKtD,eAEjB,uBACA,qBAAKwC,GAAG,WAAR,SAAmB,4BAAIc,KAAKlD,MAAM8I,MAAMF,WAE1C,oCACE,+CACA,uBACE1D,KAAK,OACLzE,KAAK,aACL4I,UAAQ,EACRlE,SAAUjC,KAAKtD,eAEjB,uBACA,qBAAKwC,GAAG,WAAR,SAAmB,4BAAIc,KAAKlD,MAAM8I,MAAMD,kBAE1C,oCACE,wBAAQzG,GAAG,aAAa8C,KAAK,SAA7B,qBAGA,wBAAQA,KAAK,QAAb,iC,GAxOcO,IAAMC,WC+JjB4D,E,kDA9JX,WAAY3J,GAAO,IAAD,8BACd,cAAMA,IAEDK,MAAQ,CACTuJ,aAAa,EACbC,aAAc,GACdhD,WAAY,IANF,E,qDAUlB,WAAoB,IAAD,OACX9C,EAAM,CACN9B,OAAQC,OAAOC,eAAeC,QAAQ,WAE1CpB,QAAQC,IAAI8C,GACZC,IAAMC,KAAK,0DAA2DF,GAErEG,MAAK,SAACC,GACAC,QAAQD,EAAIE,KAAKuF,cAChB,EAAK7I,SAAS,CAAC8F,WAAY1C,EAAIE,KAAKwC,aACpC,EAAK9F,SAAS,CAAC8I,aAAc1F,EAAIE,KAAKwF,eACtC,EAAK9I,SAAS,CAAC6I,YAAazF,EAAIE,KAAKuF,cACrC,EAAK7I,SAAS,CAAC+B,OAAQ,MAGvB,EAAK/B,SAAS,CAAC+B,OAAQqB,EAAIE,KAAKvB,YAGvCwB,OAAM,SAACC,GACJ,EAAKxD,SAAS,CAAC+B,OAAQ,qB,oBAK/B,WACI,IAAIgH,EAAQvG,KAAKlD,MAAMwG,WACnBkD,EAAUxG,KAAKlD,MAAMwJ,aACzB,OAAKC,EAAMtG,QAAUuG,EAAQvG,QAC7BxC,QAAQC,IAAI6I,GACZ9I,QAAQC,IAAI8I,GAGR,qBAAKtH,GAAG,uBAAR,SACI,qBAAKA,GAAG,cAAR,SAEQc,KAAKlD,MAAMwJ,aAAavE,KAAI,SAAC0E,EAAOvJ,GAChC,OACI,gCACI,6CAAgBuJ,EAAO7C,OACvB,0CAAa2C,EAAMrJ,GAAO0G,OAC1B,kCAEI,6DACJ,+BACI,sCACA,6BAAK2C,EAAMrJ,GAAOyE,UAEtB,+BACI,oCACA,6BAAK4E,EAAMrJ,GAAO0E,QAEtB,+BACI,sCACA,6BAAK6E,EAAOC,gBAEhB,+BACI,gDACA,6BAAKH,EAAMrJ,GAAOsG,kBAGtB,uBACA,kCACI,+BACI,wCACA,sCACA,wCACA,sCACA,6CACA,2CAGAiD,EAAO1J,MAAMgF,KAAI,SAAC9E,GACd,OACI,+BACI,6BAAKA,EAAKE,aACV,6BAAKF,EAAKM,OACV,6BAAKN,EAAKW,SACV,qCAAQ2I,EAAMrJ,GAAOkF,WACrB,qCAAQC,KAAKC,MAA6B,GAAvBiE,EAAMrJ,GAAOkF,YAChC,qCAAQC,KAAKC,MAA6B,IAAvBiE,EAAMrJ,GAAOkF,qBAcpD,uBACA,oDAAwBC,KAAKC,MAA6B,IAAvBiE,EAAMrJ,GAAOkF,SAAgBqE,EAAO1J,MAAMkD,qBAnE3D,O,GAtC5BsC,IAAMC,WCgBjBmE,E,kDAhBX,WAAYlK,GAAO,uCACTA,G,0CAGV,WACI,OACI,qBAAKyC,GAAG,SAAR,SAEI,6B,GATKqD,IAAMC,WCQrB/B,EAAQoD,EAAQ,IAASC,QAyJhB8C,E,kDArJb,WAAYnK,GAAQ,IAAD,8BACjB,cAAMA,IACDoK,OAAS,EAAKA,OAAOxI,KAAZ,gBACd,EAAKyI,MAAQ,EAAKA,MAAMzI,KAAX,gBACb,EAAK0I,kBAAoB,EAAKA,kBAAkB1I,KAAvB,gBACzB,EAAK2I,kBAAoB,EAAKA,kBAAkB3I,KAAvB,gBACrB,EAAKvB,MAAO,CACR+I,UAAU,EACVnD,MAAO,GACPE,SAAU,GACVrD,OAAQ,IAVC,E,qDAcnB,WACES,KAAKxC,SAAS,CAACqI,SAAU3F,KAAKC,MAAMxB,OAAOC,eAAeC,QAAQ,iB,oBAGpE,WAAS,IAAD,OAGN,GAFApB,QAAQC,IAAIsC,KAAKlD,OAEdkD,KAAKlD,MAAM+I,SAAS,CACrB,IAAIrF,EAAM,CACRqF,UAAU,EACVnD,MAAO,GACPE,SAAU,GACVlE,OAAQ,IAER,OACI,qBAAKQ,GAAG,SAAR,SACI,+BACI,6BAAI,cAAC,IAAD,CAAM0C,GAAG,OAAT,SAAgB,8CACpB,6BAAI,cAAC,IAAD,CAAMA,GAAG,cAAT,SAAuB,sDAC3B,oBAAIJ,QACF,WAAK,EAAKhE,SAASgD,GACnB7B,OAAOC,eAAewB,QAAQ,YAAY,GAC1CzB,OAAOC,eAAeqI,WAAW,kBACjCtI,OAAOC,eAAeqI,WAAW,QACjCtI,OAAOC,eAAeqI,WAAW,cACjCtI,OAAOC,eAAeqI,WAAW,SACjCtI,OAAOC,eAAeqI,WAAW,SACjCtI,OAAOC,eAAeqI,WAAW,eAEjCtI,OAAOK,SAASkI,KAAhB,UAA0BvI,OAAOK,SAASuB,OAA1C,UAVF,SAWK,mDAKjB,OACI,qBAAKrB,GAAG,SAAR,SACI,+BACA,6BAAI,cAAC,IAAD,CAAM0C,GAAG,OAAT,SAAgB,8CAChB,6BAAI,cAAC,IAAD,CAAMA,GAAG,SAAT,SAAkB,gDACtB,6BAAI,cAAC,IAAD,CAAMA,GAAG,QAAT,SAAiB,sD,+BASzC,SAAkBjF,GAChBqD,KAAKxC,SAAL,eAAgBb,EAAEW,OAAOC,KAAOZ,EAAEW,OAAOK,U,+BAG3C,SAAkBhB,GAAG,IAAD,OAClBA,EAAEoG,iBACFvD,SAASC,eAAe,mBAAmBG,UAAW,EACtD,IAAMoD,EAASxD,SAASC,eAAe,mBAAmBC,MAAMC,gBAChEH,SAASC,eAAe,mBAAmBC,MAAMC,gBAAkB,OAEnEc,EAAMC,KAAK,oDAAoD,CAE/DgC,MAAO1C,KAAKlD,MAAM4F,MACdE,SAAU5C,KAAKlD,MAAM8F,WAExBjC,MAAK,SAACC,GACUA,EAAIE,KAAKqG,OAElB,EAAK3J,SAAS,CAACqI,UAAU,IACzB,EAAKrI,SAAS,CAAC+B,OAAQqB,EAAIE,KAAKvB,SAChCZ,OAAOC,eAAewB,QAAQ,YAAY,GAC1CzB,OAAOC,eAAewB,QAAQ,SAAUQ,EAAIE,KAAKpC,QACjDuC,YAAW,WACTtC,OAAOsE,QAAQC,SACf,OAGJ,EAAK1F,SAAS,CAACqI,UAAU,IACzB,EAAKrI,SAAS,CAAC+B,OAAQqB,EAAIE,KAAKvB,aAGrCwB,OAAM,SAACC,GACJvD,QAAQC,IAAIsD,GACZ,EAAKxD,SAAS,CAAC+B,OAAQ,mBAE1BoB,MAAK,WACA,EAAK7D,MAAM+I,WACbrG,SAASC,eAAe,mBAAmBG,UAAW,EACtDJ,SAASC,eAAe,mBAAmBC,MAAMC,gBAAkBqD,Q,mBAKzE,WACE,OAAGhD,KAAKlD,MAAM+I,SAEV,sBAAM1C,SAAUnD,KAAKgH,kBAAmB9H,GAAG,YAA3C,SACE,oBAAIQ,MAAO,CAAC0D,MAAO,SAAnB,qDAMF,uBAAMD,SAAUnD,KAAKgH,kBAAmB9H,GAAG,YAA3C,UACE,mFACA,uBAAQ3B,KAAK,QAAQyE,KAAK,QAAQC,SAAUjC,KAAK+G,kBAAmB7E,YAAY,aAChF,uBAAOF,KAAK,WAAWzE,KAAK,WAAW0E,SAAUjC,KAAK+G,kBAAoB7E,YAAY,aACtF,wBAAQhD,GAAG,kBAAkB8C,KAAK,SAAlC,qBACA,oBAAItC,MAAO,CAAC0D,MAAO,OAAnB,SAA4BpD,KAAKlD,MAAMyC,c,oBAM7C,WACE,OACE,gCACI,mBAAMsH,OAAN,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOO,OAAK,EAACC,KAAK,IAAlB,SAAsB,cAAE,EAAF,MACtB,cAAC,IAAD,CAAOA,KAAK,QAAZ,SAAoB,cAAE,EAAF,MACpB,cAAC,IAAD,CAAOA,KAAK,YAAZ,SAAyB,cAAE,EAAF,MACzB,cAAC,IAAD,CAAOA,KAAK,aAAZ,SAA0B,cAAE,EAAF,MAC1B,cAAC,IAAD,CAAOA,KAAK,eAAeC,UAAW9K,MACtC,cAAC,IAAD,CAAO6K,KAAK,WAAZ,SAAwB,cAAE,EAAF,MACxB,cAAC,IAAD,CAAOA,KAAK,SAAZ,SAAsB,mBAAOP,MAAP,MACtB,cAAC,IAAD,CAAOO,KAAK,UAAZ,SAAuB,cAAE,EAAF,MACvB,cAAC,IAAD,CAAOA,KAAK,eAAZ,SAA4B,cAAE,EAAF,MAC5B,eAAC,IAAD,eAAQ,+CAAR,UAEF,cAAE,EAAF,W,GAhJS9E,IAAMC,WCIV+E,MATb,WACE,OACE,cAAC,IAAD,CAAQC,SAAUC,aAAlB,SACI,cAAC,EAAD,OCCKC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjH,MAAK,YAAkD,IAA/CkH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5I,SAASC,eAAe,SAM1BiI,M","file":"static/js/main.0a3bf723.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nclass SelectSeats extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.MyBusContainer = this.MyBusContainer.bind(this)\r\n        this.MySummaryContainer = this.MySummaryContainer.bind(this)\r\n        this.createSeats = this.createSeats.bind(this)\r\n        this.handleSelectedSeats = this.handleSelectedSeats.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        \r\n        this.state = {\r\n            userId: window.sessionStorage.getItem('userId'),\r\n            // loggedIn: JSON.parse(window.sessionStorage.getItem('loggedIn')),\r\n            busId: this.props.location.bus === undefined ? window.sessionStorage.getItem('busId'): this.props.location.bus.id ,\r\n            date: this.props.location.bus === undefined ? window.sessionStorage.getItem('date'): this.props.location.bus.date ,\r\n            getBusDetails: false,\r\n            busDetails: [],\r\n            selectedSeats: [],\r\n            unavailableSeats: [],\r\n            // ticketsCreated: false,\r\n            reason: '',\r\n            forms: [{seatNumber: 0, name: '',gender: ''}]\r\n        }\r\n    }\r\n\r\n    handleSubmit(){\r\n        document.getElementById('submitForm').style.backgroundColor=\"grey\";\r\n        document.getElementById('submitForm').disabled=true;\r\n\r\n        let validData = true\r\n        let flag = false\r\n        let valid = true\r\n        console.log(this.state.forms)\r\n        this.state.forms.forEach((form)=>{\r\n            if(form.name==='' || form.gender===''){\r\n                validData = false\r\n                if(this.state.selectedSeats.length === 0){\r\n                    this.setState({reason: 'You Should Select Atleast One Seat Before Making Payment'})\r\n                }else{\r\n                    this.setState({reason: 'Kindly Fill Out All The Details Before Making Payment'})\r\n                }\r\n                \r\n                // console.log(valid)       \r\n            }\r\n            \r\n            this.state.selectedSeats.forEach((seatNumber)=>{\r\n                if(form.seatNumber === seatNumber){\r\n                    flag = true\r\n                }\r\n            })\r\n            if(valid && flag && validData){\r\n                valid = true\r\n            }\r\n            else{\r\n                valid = false\r\n            }\r\n        })   \r\n\r\n        if(this.state.forms.length !== this.state.selectedSeats.length){\r\n            valid = false\r\n        }\r\n        if(!(JSON.parse(window.sessionStorage.getItem('loggedIn')) && this.state.getBusDetails) ){\r\n            valid= false    \r\n        }\r\n        console.log('valid: ',valid)\r\n        if(valid){\r\n            // console.log('valid: ',valid)\r\n            window.sessionStorage.setItem('forms', JSON.stringify(this.state.forms))\r\n            window.sessionStorage.setItem('seatNumber', JSON.stringify(this.state.selectedSeats))\r\n            document.getElementById('submitForm').style.backgroundColor=\"green\";\r\n            document.getElementById('submitForm').disabled=false;\r\n            // window.location.replace(\"http://localhost:3000/payment\")\r\n            window.location.replace(`${window.location.origin}/payment`)\r\n        }\r\n        document.getElementById('submitForm').style.backgroundColor=\"green\";\r\n            document.getElementById('submitForm').disabled=false;\r\n    }\r\n\r\n\r\n    handleChange = (e,num)=>{\r\n\r\n        let createNew = true\r\n\r\n        this.state.forms.forEach((form, index)=>{\r\n            if(form.seatNumber === num){\r\n                let formsCopy = this.state.forms\r\n                eval(\"formsCopy[index].\" + e.target.name + '=' + 'String(e.target.value)' )\r\n                this.setState({forms: formsCopy})\r\n                console.log('Updated: ',this.state.forms)\r\n\r\n                createNew = false\r\n            }\r\n        })\r\n\r\n            if(createNew === true){\r\n                let form = {\r\n                    seatNumber: num,\r\n                    name: e.target.name ==='name'? e.target.value: '',\r\n                    gender: e.target.name ==='gender'? e.target.value: ''\r\n                }\r\n                let formsCopy = this.state.forms\r\n                formsCopy.push(form)\r\n                this.setState({forms: formsCopy})\r\n                console.log('newFrom: ',this.state.forms)\r\n            }\r\n            let formsCopyy = this.state.forms\r\n            this.state.forms.forEach((form,formIndex)=>{\r\n                let erase = true               \r\n                this.state.selectedSeats.forEach((seatNumber, seatIndex)=>{\r\n                    if(form.seatNumber === seatNumber){\r\n                        erase = false                       \r\n                    }\r\n                })\r\n                if(erase){\r\n                    formsCopyy.splice(formIndex,1)\r\n                }\r\n            })\r\n            this.setState({forms: formsCopyy})\r\n    }\r\n\r\n    componentDidMount(){\r\n        \r\n\r\n        if(this.props.location.bus !== undefined){\r\n            window.sessionStorage.setItem('busId',this.props.location.bus.id )\r\n            window.sessionStorage.setItem('date',this.props.location.bus.date )\r\n        }\r\n        const obj = {\r\n            busId: this.state.busId,\r\n            date: this.state.date\r\n        }   \r\n        axios.post('https://bus-ticket-server.herokuapp.com/api/selectSeats/getBusDetails', obj)\r\n        // axios.post('http://localhost:5000/api/selectSeats/getBusDetails', obj)\r\n        .then((res)=>{\r\n            if(Boolean(res.data.getBusDetails)){\r\n                this.setState({getBusDetails: true})\r\n                this.setState({busDetails: res.data.busDetails[0]})\r\n                this.setState({unavailableSeats: res.data.unavailableSeats})  \r\n            }\r\n            else{\r\n                this.setState({reason: res.data.reason})\r\n            }    \r\n        })\r\n        .catch((err)=>{\r\n            this.setState({reason: \"Axios error\"})\r\n            console.log(err)\r\n        })\r\n        .then(()=>{\r\n            setTimeout(() => {\r\n                let totalSeats = this.state.busDetails.totalSeats\r\n                for(let i=1; i<=totalSeats; i+=1){\r\n                    let arr1 = this.state.unavailableSeats\r\n                    let unavailable = arr1.indexOf(i) > -1\r\n                    if(unavailable){\r\n                        document.getElementById(String(i)).style.backgroundColor=\"#555\";\r\n                        document.getElementById(String(i)).disabled = true;\r\n                    }\r\n                }\r\n                console.log(this.state)\r\n            }, 10);\r\n        })\r\n        \r\n        \r\n    }\r\n\r\n    createSeats(){\r\n        let seats = []\r\n        let totalSeats = this.state.busDetails.totalSeats\r\n        for(let i=1;i<=totalSeats;i=i+1){\r\n            seats = [...seats, <button className='seats' id= {String(i)} onClick={this.handleSelectedSeats}>Seat {i}</button>];\r\n        }\r\n            return(<> {seats} </ >)\r\n    }\r\n    handleSelectedSeats(e){\r\n        let loggedIn = JSON.parse(window.sessionStorage.getItem('loggedIn'))\r\n        // skip seats handler if not logged in\r\n        if(!loggedIn){\r\n            this.setState({reason: \"Kindly Login Before Selecting Seats\"})\r\n            return 1\r\n        }\r\n        this.setState({reason: \"\"})\r\n\r\n        console.log(e.target.name)\r\n        let arr = this.state.selectedSeats\r\n        let value = Number(e.target.id)\r\n        let index = arr.indexOf(value)\r\n        if(index > -1){\r\n            arr.splice(index, 1)\r\n           \r\n        }else{\r\n            arr.push(value)\r\n        }\r\n        this.setState({selectedSeats: arr})\r\n        console.log(arr)\r\n        console.log(this.state.selectedSeats)\r\n        for(let i=1; i<=40; i+=1){\r\n\r\n            let selectedSeats = arr.indexOf(i) > -1\r\n            let arr1 = this.state.unavailableSeats\r\n            let unavailableSeats = arr1.indexOf(i) > -1\r\n            if(unavailableSeats){\r\n                continue\r\n            }\r\n            else if(selectedSeats)\r\n                document.getElementById(String(i)).style.backgroundColor=\"crimson\";\r\n            else\r\n                document.getElementById(String(i)).style.backgroundColor=\"green\";\r\n        }          \r\n    }\r\n\r\n    MyBusContainer(){\r\n        return(\r\n            <div id=\"busContainer\">\r\n                <div id=\"bus\" >\r\n                    {this.createSeats()}  \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    MySummaryContainer(){\r\n        return(\r\n            <div id=\"summaryContainer\">\r\n                <div id=\"summary\">\r\n                    <h2>Booking Summary</h2>\r\n                    <section>\r\n                        <span>From</span>\r\n                        <span>{this.state.busDetails.from}</span>\r\n                    </section>\r\n                    <section>\r\n                        <span>To</span>\r\n                        <span>{this.state.busDetails.to}</span>\r\n                    </section>\r\n                    <section>\r\n                        <span>Date</span>\r\n                        <span>{this.state.date}</span>\r\n                    </section>\r\n                    <section>\r\n                        <span>Travel Time</span>\r\n                        <span>{this.state.busDetails.travelTime}</span>\r\n                    </section>\r\n                    <section>\r\n                        <span>Bus Type</span>\r\n                        <span>{this.state.busDetails.busType}: {this.state.busDetails.totalSeats}</span>\r\n                    </section>\r\n                    \r\n                    {                     \r\n                        this.state.selectedSeats.map((num)=>{\r\n                            return(\r\n                            <>\r\n                                <section>\r\n                                    <span>Seat No</span>\r\n                                    <span>{num}</span>\r\n                                </section>\r\n                                <form>\r\n                                    <input type=\"text\" onChange={(e)=>this.handleChange(e,num)} name='name' placeholder=\"Name\" />\r\n                                    <label htmlFor={\"selectSeatsR\"+num}>   \r\n                                        <input type=\"radio\" onChange={(e)=>this.handleChange(e,num)} value='male' id={\"selectSeatsR\"+num} name=\"gender\"/>\r\n                                        Male\r\n                                    </label>\r\n                                    <label htmlFor={num+\"selectSeatsR\"+num}>\r\n                                        <input type=\"radio\" onChange={(e)=>this.handleChange(e,num)} value='female' id={num+\"selectSeatsR\"+num}  name=\"gender\"/>\r\n                                        Female\r\n                                    </label>\r\n                                </form>\r\n                            </>\r\n                            )\r\n                        })\r\n                    }\r\n                    <section>\r\n                        <span>Total Seats</span>\r\n                        <span>{this.state.selectedSeats.length}</span>\r\n                    </section>\r\n                    <section>\r\n                        <span>Fare</span>\r\n                        <span>Rs.{this.state.busDetails.busFare * this.state.selectedSeats.length }</span>\r\n                    </section>\r\n                    <section>\r\n                        <span>Service Tax</span>\r\n                        <span>Rs.{ (this.state.busDetails.busFare * this.state.selectedSeats.length) * 0.1 }</span>\r\n                    </section>\r\n                    <section>\r\n                        <span>Service Charges</span>\r\n                        <span>Rs.{Math.floor((this.state.busDetails.busFare * this.state.selectedSeats.length) * 1.1)  }</span>\r\n                        {window.sessionStorage.setItem('totalAmount', Math.floor((this.state.busDetails.busFare * this.state.selectedSeats.length) * 1.1) )}\r\n                    </section>\r\n                    <button onClick={this.handleSubmit} id=\"submitForm\">Continue to Payment</button>\r\n                </div>\r\n            </div>\r\n        )\r\n    } \r\n\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n            <div id=\"selectSeatsContainer\">\r\n                {this.MyBusContainer()}\r\n                {this.MySummaryContainer()} \r\n            </div>\r\n            <div id='errorBox'>\r\n                <p >{this.state.reason}</p>\r\n            </div>\r\n            \r\n            </ >\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default SelectSeats","import axios from 'axios'\r\nimport React from 'react'\r\n// import { Link } from \"react-router-dom\";\r\n\r\nclass SignUpForm extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n\r\n\r\n\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n\r\n        this.state = {\r\n            name: \"\",\r\n            email: '',\r\n            mobileNumber: '',\r\n            password: '',\r\n            dateOfBirth: '',\r\n            gender: '',\r\n            reason: '',\r\n            signup: false\r\n        }\r\n    }\r\n    \r\n    componentDidMount(){\r\n        this.setState({signup: JSON.parse(window.sessionStorage.getItem('signup'))})\r\n    }\r\n    handleChange(e) {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        document.getElementById(\"signupFormButton\").disabled = true; \r\n        const colour = document.getElementById(\"signupFormButton\").style.backgroundColor\r\n        document.getElementById(\"signupFormButton\").style.backgroundColor = 'grey'\r\n\r\n        let obj = {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            mobileNumber: this.state.mobileNumber,\r\n            password: this.state.password,\r\n            dateOfBirth: this.state.dateOfBirth,\r\n            gender: this.state.gender\r\n        }\r\n        console.log(obj)\r\n        axios.post('https://bus-ticket-server.herokuapp.com/api/signup',obj)\r\n        .then((res)=>{\r\n            this.setState({reason: res.data.reason})\r\n            this.setState({signup: res.data.signup})\r\n            window.sessionStorage.setItem('signup', res.data.signup)\r\n            if(res.data.signup){\r\n                setTimeout(()=>{\r\n                    window.history.back()\r\n                },1000)\r\n                \r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            this.setState({reason: 'error sending data'})\r\n        })\r\n        .then(()=>{\r\n            if(!this.state.signup){\r\n                document.getElementById(\"signupFormButton\").disabled = false;\r\n                document.getElementById(\"signupFormButton\").style.backgroundColor = colour\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        \r\n        if(this.state.signup){\r\n            return(\r\n            <form id=\"signUpForm\" onSubmit={this.handleSubmit}>\r\n                <h2 style={{color: 'green'}}>You have successfully created account! Please login to enjoy the services.</h2>\r\n            </form>\r\n            )\r\n        }else{\r\n\r\n            return(\r\n                <form id=\"signUpForm\" onSubmit={this.handleSubmit}>\r\n                <h2>New user? Signup to enjoy services</h2>\r\n                <input type=\"name\" name='name' onChange={this.handleChange} placeholder=\"Name\" />\r\n                <input type=\"email\" name='email' onChange={this.handleChange} placeholder=\"Email Id\" />\r\n                <input type=\"tel\" name='mobileNumber' onChange={this.handleChange} placeholder=\"Mobile Number\" />\r\n                <input type=\"password\" name='password' onChange={this.handleChange} placeholder=\"Password\" />\r\n\r\n                <div>\r\n                    Date Of Birth:\r\n                </div>\r\n                <input type=\"date\" name='dateOfBirth' onChange={this.handleChange} />\r\n                <div>\r\n                    <label htmlFor=\"signUpR1\">\r\n                        <input type=\"radio\" id=\"signUpR1\" name=\"gender\" value='male' onChange={this.handleChange} />\r\n                        Male<br/>\r\n                    </label>\r\n                    <label htmlFor=\"signUpR2\">\r\n                        <input type=\"radio\" id='signUpR2' name=\"gender\" value='female' onChange={this.handleChange} />\r\n                        Female\r\n                    </label>                      \r\n                </div>                              \r\n                <button id='signupFormButton' type='submit'>Sign Up</button>\r\n                <h2 style={{color: 'red'}}>{this.state.reason}</h2>\r\n            </form>                             \r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default SignUpForm\r\n","// SEATS AVAILABLE PENDING\r\nimport {Link} from 'react-router-dom'\r\nimport React from 'react'\r\nimport axios from 'axios'\r\n\r\nclass SelectBus extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n\r\n\r\n        this.state = {\r\n            busesArray: [],\r\n            selectBus: false,\r\n            reason: ''\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        console.log(this.props)\r\n        axios.post('https://bus-ticket-server.herokuapp.com/api/selectBus', this.props)\r\n        // axios.post('http://localhost:5000/api/selectBus', this.props)\r\n        .then((res)=>{\r\n            if(Boolean(res.data.selectBus)){\r\n                this.setState({busesArray: res.data.busesArray})\r\n                this.setState({selectBus: res.data.selectBus})\r\n                this.setState({reason: ''})\r\n                console.log(this.state)\r\n            }\r\n            else{\r\n                this.setState({reason: res.data.reason})\r\n            }    \r\n        })\r\n        .catch((err)=>{\r\n            this.setState({reason: \"Axios error\"})\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div id='selectBusContainer'>\r\n                <p>Select Bus</p>\r\n                <div id=\"selectBus\">\r\n                    <table id=\"selectBusTable\">                   \r\n                        <tr>\r\n                            <th>Bus Type</th>\r\n                            <th>Departure</th>\r\n                            <th>Arrival</th>\r\n                            <th>Travel Time</th>\r\n                            <th>Date</th>\r\n                            <th>Seats Available</th>\r\n                            <th>Fare</th>\r\n                            <th></th>\r\n                        </tr>\r\n                        \r\n                            {   \r\n                                \r\n                                this.state.busesArray.map((bus) => {\r\n                                    return (\r\n                                        <tr>\r\n                                            <td>{bus.busType}</td>\r\n                                            <td>{bus.departure}</td>\r\n                                            <td>{bus.arrival}</td>\r\n                                            <td>{bus.travelTime}</td>\r\n                                            <td>{this.props.date}</td>\r\n                                            <td>{bus.seatsAvailable}</td>\r\n                                            <td>{bus.busFare}</td>\r\n                                            <td><Link to={{\r\n                                                pathname: '/selectSeats',\r\n                                                bus: {\r\n                                                    id: bus._id,\r\n                                                    date: this.props.date\r\n                                                }\r\n                                            }}><button>View Seats</button></Link></td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SelectBus","import React from 'react'\r\nimport SelectBus from './SelectBus'\r\nconst axios = require('axios').default\r\n\r\n\r\n\r\n\r\nclass PlanTrip extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleReset = this.handleReset.bind(this)\r\n        \r\n        this.state = {\r\n            fromArray: [],\r\n            toArray: [],\r\n            planTrip: false,\r\n            reason: '' ,\r\n            from: '',\r\n            to: '',\r\n            date: '',\r\n            selectBus: false\r\n        }\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault()\r\n        if(this.state.from && this.state.to && this.state.date){\r\n            this.setState({selectBus: true})\r\n            this.setState({reason: \"\"})\r\n        }else{\r\n            this.setState({selectBus: false})\r\n            this.setState({reason: \"Please fill all the details\"})\r\n        }\r\n        \r\n        // console.log(this.state)    \r\n    }\r\n    handleChange(e){\r\n        this.setState({[e.target.name]: e.target.value})        \r\n        this.setState({selectBus: false})\r\n        if(this.state.reason){\r\n            this.setState({reason: \"\"})\r\n        }\r\n\r\n    }\r\n    handleReset(e){\r\n        this.setState({from: ''})        \r\n        this.setState({to: ''})        \r\n        this.setState({date: ''})        \r\n        this.setState({selectBus: false})        \r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        axios.get('https://bus-ticket-server.herokuapp.com/api/planTrip')\r\n        // axios.get('http://localhost:5000/api/planTrip')\r\n        .then((res)=>{\r\n            \r\n            if(Boolean(res.data.planTrip)){\r\n                this.setState({fromArray: res.data.from})\r\n                this.setState({toArray: res.data.to})\r\n                this.setState({planTrip: true})\r\n\r\n            }\r\n            else{\r\n                this.setState({planTrip: false})\r\n                this.setState({reason: res.data.reason})\r\n            }\r\n            \r\n        })\r\n        .catch((err)=>{\r\n            this.setState({planTrip: false})\r\n            this.setState({reason: \"axios error\"})\r\n        })\r\n\r\n    }\r\n\r\n    render(){\r\n        \r\n        const oneDay = 1000*86400\r\n        const start = new Date().getTime()\r\n        const end = start + oneDay*(6)\r\n        const startDate = new Date(start).toISOString().substr(0,10)\r\n        const endDate = new Date(end).toISOString().substr(0,10)\r\n        \r\n        return(\r\n            <>\r\n                <form onSubmit={this.handleSubmit} id=\"planTripForm\" action=\"\">\r\n                    <p>Plan Your Trip</p>\r\n                    <div id=\"planTrip\">\r\n                        <table id=\"planTripTable\">\r\n                            <tr>\r\n                                <th>From</th>\r\n                                <th>To</th>\r\n                                <th>Travel Date</th>\r\n                                <th></th>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    <select name='from' onChange={this.handleChange}>\r\n                                        <option selected value=''> Select </option>\r\n                                    {\r\n                                        this.state.fromArray.map((city) => {\r\n                                            return <option value={city}> {city} </option>\r\n                                        })\r\n                                    }\r\n                                    </select>\r\n                                </td>\r\n                                <td>\r\n                                    <select name='to' onChange={this.handleChange}>\r\n                                        <option selected value=''> Select </option>\r\n                                    {\r\n                                        this.state.toArray.map((city) => {\r\n                                            return <option value={city}> {city} </option>\r\n                                        })\r\n                                    }\r\n                                    </select> \r\n                                </td>\r\n                                <td>\r\n                                    <input name='date' onChange={this.handleChange} type=\"date\" min={startDate} max={endDate} />\r\n                                </td>\r\n                                <td>\r\n                                    <button type='submit' >Plan Trip</button>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <button onClick={this.handleReset} type='reset'>Reset</button>\r\n                    <br/>\r\n                    <section id='errorBox'><div>{this.state.reason}</div></section>\r\n                </form>\r\n\r\n                {                                \r\n                    this.state.selectBus? < SelectBus from={this.state.from} to={this.state.to} date={this.state.date} />: ''                                      \r\n                }    \r\n            </>                                                            \r\n        )\r\n    }\r\n}\r\n\r\nexport default PlanTrip","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass PaymentForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.validateForm = this.validateForm.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.state = {\r\n      transactionId: Math.floor((Math.random() + 1) * 100000),\r\n      cardType: \"\",\r\n      cardNumber: 0,\r\n      cardName: \"\",\r\n      cvv: 0,\r\n      expiryDate: \"\",\r\n      valid: {},\r\n      error: {}\r\n\r\n    };\r\n  }\r\n  componentDidMount(){\r\n    let ticketsCreated = JSON.parse(window.sessionStorage.getItem(\"ticketsCreated\"))\r\n    let busId = window.sessionStorage.getItem(\"busId\")\r\n    let date = window.sessionStorage.getItem(\"date\")\r\n    if(!busId || !date){\r\n      document.getElementById(\"submitForm\").style.backgroundColor = \"grey\";\r\n      document.getElementById(\"submitForm\").disabled = true;\r\n    }\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    let loggedIn = JSON.parse(window.sessionStorage.getItem(\"loggedIn\"));\r\n    let ticketsCreated = JSON.parse(window.sessionStorage.getItem(\"ticketsCreated\"))\r\n    let busId = window.sessionStorage.getItem(\"busId\")\r\n    let date = window.sessionStorage.getItem(\"date\")\r\n\r\n    if (this.validateForm(e) && loggedIn && busId && date) {\r\n      console.log(\"Form Validation passed and loggedIn and tickets not yet created\");\r\n      let obj = {\r\n        busId: window.sessionStorage.getItem(\"busId\"),\r\n        userId: window.sessionStorage.getItem(\"userId\"),\r\n        date: window.sessionStorage.getItem(\"date\"),\r\n        seatNumber: JSON.parse(window.sessionStorage.getItem(\"seatNumber\")),\r\n        forms: JSON.parse(window.sessionStorage.getItem(\"forms\"))\r\n      };\r\n      console.log(obj)\r\n      document.getElementById(\"submitForm\").style.backgroundColor = \"grey\";\r\n      document.getElementById(\"submitForm\").disabled = true;\r\n      axios\r\n        .post(\"https://bus-ticket-server.herokuapp.com/api/payment/generateTickets\", obj)\r\n        // .post(\"http://localhost:5000/api/payment/generateTickets\", obj)\r\n        .then((res) => {\r\n          window.sessionStorage.setItem('ticketsCreated', true)\r\n          ticketsCreated = true\r\n        })\r\n        .catch((err) => {\r\n          this.setState({ ticketsCreated: false });\r\n        })\r\n        .then(() => {\r\n          document.getElementById(\"submitForm\").style.backgroundColor = \"green\";\r\n          document.getElementById(\"submitForm\").disabled = false;\r\n          if (ticketsCreated === false) {\r\n            this.setState({\r\n              reason: \"error creating tickets please try again\",\r\n            });\r\n          } else {\r\n            document.getElementById(\"submitForm\").style.backgroundColor = \"grey\";\r\n            document.getElementById(\"submitForm\").disabled = true;\r\n            window.sessionStorage.setItem(\"ticketsCreated\", true)\r\n            // window.location.replace(\"http://localhost:3000/viewTickets\");\r\n            window.location.replace(`${window.location.origin}/viewTickets`);\r\n          }\r\n        });\r\n    } else {\r\n      console.log(\"Form Validation failed and/or login failed\");\r\n    }\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    this.validateForm(e);\r\n  }\r\n\r\n  validateForm(e) {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    let validCopy = this.state.valid;\r\n    let errorCopy = this.state.error;\r\n\r\n\r\n    switch (name) {\r\n      case \"cardType\":\r\n        validCopy[name] = Boolean(value);\r\n        validCopy[name]?errorCopy[name]='':errorCopy[name]=\"Please Select Any CardType\"\r\n        break;\r\n\r\n      case \"cardNumber\":\r\n        validCopy[name] = Boolean(value.length === 16 && value > 0);\r\n        validCopy[name]?errorCopy[name]='':errorCopy[name]=\"Card Number Must Be 16 Digits\"\r\n        break;\r\n\r\n      case \"cardName\":\r\n        e.target.value = value.replaceAll(/[^a-zA-Z' ']/g, \"\");\r\n        validCopy[name] = Boolean(value);\r\n        validCopy[name]?errorCopy[name]='':errorCopy[name]=\"Please Fill Out This\"\r\n        break;\r\n\r\n      case \"cvv\":\r\n        validCopy[name] = Boolean(value.length === 3);\r\n        validCopy[name]?errorCopy[name]='':errorCopy[name]=\"CVV Number Must Be Of 3 Digits\"\r\n        break;\r\n\r\n      case \"expiryDate\":\r\n        validCopy[name] = Boolean(value);\r\n        validCopy[name]?errorCopy[name]='':errorCopy[name]=\"Please Provide Date\"\r\n        break;\r\n\r\n      case \"payNow\":\r\n        validCopy[name] =\r\n          validCopy.cardType &&\r\n          validCopy.cardNumber &&\r\n          validCopy.cardName &&\r\n          validCopy.cvv &&\r\n          validCopy.expiryDate;\r\n    }\r\n\r\n    this.setState({ valid: validCopy });\r\n    this.setState({ error: errorCopy });\r\n\r\n    // console.log(`${name}: ${validCopy[name]}`)\r\n    // console.log(this.state.valid)\r\n\r\n    if (name === \"payNow\") {\r\n      return validCopy[name];\r\n    } else if (validCopy[name]) {\r\n      console.log(\"Green\");\r\n      e.target.style.border = \"3px solid green\";\r\n    } else {\r\n      console.log(\"red\");\r\n      e.target.style.border = \"3px solid red\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"paymentFormContainer\">\r\n        <div>\r\n          <span>Amount Rs.{window.sessionStorage.getItem(\"totalAmount\")}</span>\r\n          <span>Transaction ID:{this.state.transactionId}</span>\r\n        </div>\r\n        <form\r\n          id=\"paymentForm\"\r\n          onSubmit={this.handleSubmit}\r\n          name=\"payNow\"\r\n          action=\"\"\r\n        >\r\n          <section>\r\n            <span>Card Type</span>\r\n            <label htmlFor=\"PaymentFormR1\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"visa\"\r\n                id=\"PaymentFormR1\"\r\n                name=\"cardType\"\r\n                required\r\n                onChange={this.handleChange}\r\n              />\r\n              Visa\r\n            </label>\r\n            <label htmlFor=\"PaymentFormR2\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"masterCard\"\r\n                id=\"PaymentFormR2\"\r\n                name=\"cardType\"\r\n                required\r\n                onChange={this.handleChange}\r\n              />\r\n              MasterCard\r\n            </label>\r\n            <br/>\r\n            <div id='errorBox'><p>{this.state.error.cardType}</p></div>\r\n          </section>\r\n          <section>\r\n            <span>Card Number</span>\r\n            <input\r\n              type=\"number\"\r\n              name=\"cardNumber\"\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n            <br/>\r\n            <div id='errorBox'><p>{this.state.error.cardNumber}</p></div>\r\n          </section>\r\n          <section>\r\n            <span>Name on Card</span>\r\n            <input\r\n              type=\"text\"\r\n              name=\"cardName\"\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n            <br/>\r\n            <div id='errorBox'><p>{this.state.error.cardName}</p></div>\r\n          </section>\r\n          <section>\r\n            <span>CVV</span>\r\n            <input\r\n              type=\"number\"\r\n              name=\"cvv\"\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n            <br/>\r\n            <div id='errorBox'><p>{this.state.error.cvv}</p></div>\r\n          </section>\r\n          <section>\r\n            <span>Expiry Date</span>\r\n            <input\r\n              type=\"date\"\r\n              name=\"expiryDate\"\r\n              required\r\n              onChange={this.handleChange}\r\n            />\r\n            <br/>\r\n            <div id='errorBox'><p>{this.state.error.expiryDate}</p></div>\r\n          </section>\r\n          <section>\r\n            <button id=\"submitForm\" type=\"submit\">\r\n              Pay Now\r\n            </button>\r\n            <button type=\"reset\">Cancel</button>\r\n          </section>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PaymentForm;\r\n","import React from 'react'\r\nimport axios from 'axios'\r\n\r\nclass ViewTickets extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            viewTickets: false,\r\n            ticketsArray: [],\r\n            busesArray: []\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let obj = {\r\n            userId: window.sessionStorage.getItem('userId')\r\n        }\r\n        console.log(obj)\r\n        axios.post('https://bus-ticket-server.herokuapp.com/api/viewTickets', obj)\r\n        // axios.post('http://localhost:5000/api/viewTickets', obj)\r\n        .then((res)=>{\r\n            if(Boolean(res.data.viewTickets)){\r\n                this.setState({busesArray: res.data.busesArray})\r\n                this.setState({ticketsArray: res.data.ticketsArray})   \r\n                this.setState({viewTickets: res.data.viewTickets})\r\n                this.setState({reason: ''})\r\n            }\r\n            else{\r\n                this.setState({reason: res.data.reason})\r\n            }    \r\n        })\r\n        .catch((err)=>{\r\n            this.setState({reason: \"Axios error\"})\r\n        })\r\n    }\r\n\r\n\r\n    render(){\r\n        let buses = this.state.busesArray\r\n        let tickets = this.state.ticketsArray\r\n        if(!(buses.length && tickets.length)) {return ''}\r\n        console.log(buses)\r\n        console.log(tickets)\r\n        return(\r\n\r\n            <div id='viewTicketsContainer'>\r\n                <div id='viewTickets'>\r\n                    {\r\n                        this.state.ticketsArray.map((ticket,index)=>{                           \r\n                            return(\r\n                                <div>\r\n                                    <p>Ticket Id : {ticket._id}</p>\r\n                                    <p>Bus Id : {buses[index]._id}</p>\r\n                                    <table>\r\n                                        \r\n                                        <h1>-----GREEN BUS TRAVELS-----</h1>\r\n                                    <tr>\r\n                                        <th>From</th>\r\n                                        <td>{buses[index].from}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>To</th>\r\n                                        <td>{buses[index].to}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Date</th>\r\n                                        <td>{ticket.travelDate}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Departure Time</th>\r\n                                        <td>{buses[index].departure}</td>\r\n                                    </tr>\r\n                                    </table>\r\n                                    <hr/>\r\n                                    <table>\r\n                                        <tr>\r\n                                            <th>SeatNo</th>\r\n                                            <th>Name</th>\r\n                                            <th>Gender</th>\r\n                                            <th>Fare</th>\r\n                                            <th>Service Tax</th>\r\n                                            <th>Amount</th>\r\n                                        </tr>\r\n                                        {\r\n                                            ticket.forms.map((form)=>{\r\n                                                return(\r\n                                                    <tr>\r\n                                                        <td>{form.seatNumber}</td>\r\n                                                        <td>{form.name}</td>\r\n                                                        <td>{form.gender}</td>\r\n                                                        <td>Rs.{buses[index].busFare}</td>\r\n                                                        <td>Rs.{Math.floor(buses[index].busFare * 0.1)}</td>\r\n                                                        <td>Rs.{Math.floor(buses[index].busFare * 1.1)}</td>\r\n                                                    </tr>\r\n                                                )\r\n                                            })\r\n                                        }   \r\n                                        {/* <tr>\r\n                                            <td>db</td>\r\n                                            <td>db</td>\r\n                                            <td>db</td>\r\n                                            <td>Rs.db</td>\r\n                                            <td>Rs.db</td>\r\n                                            <td>Rs.db</td>\r\n                                        </tr> */}\r\n                                    </table>\r\n                                    <hr/>\r\n                                    <h2>Total Amount : Rs.{(Math.floor(buses[index].busFare * 1.1))*ticket.forms.length}</h2>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    {/* <div>\r\n                        <table>\r\n                        <tr>\r\n                            <th>From</th>\r\n                            <td>db</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>To</th>\r\n                            <td>db</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Date</th>\r\n                            <td>db</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>Departure Time</th>\r\n                            <td>db</td>\r\n                        </tr>\r\n                        </table>\r\n                        <hr/>\r\n                        <table>\r\n                            <tr>\r\n                                <th>SeatNo</th>\r\n                                <th>Name</th>\r\n                                <th>Gender</th>\r\n                                <th>Fare</th>\r\n                                <th>Service Tax</th>\r\n                                <th>Amount</th>\r\n                            </tr>   \r\n                            <tr>\r\n                                <td>db</td>\r\n                                <td>db</td>\r\n                                <td>db</td>\r\n                                <td>Rs.db</td>\r\n                                <td>Rs.db</td>\r\n                                <td>Rs.db</td>\r\n                            </tr>\r\n                        </table>\r\n                        <hr/>\r\n                        <h2>Total Amount : Rs.</h2>\r\n                    </div> */}\r\n                </div>\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewTickets","import React from 'react'\r\n\r\nclass Footer extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"footer\">\r\n                {/* <h2>This is footer</h2> */}\r\n                <hr/>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SignUpForm from \"./SignUpForm\";\r\nimport PlanTrip from \"./PlanTrip\";\r\nimport SelectBus from \"./SelectBus\";\r\nimport SelectSeats from \"./SelectSeats\";\r\nimport PaymentForm from \"./PaymentForm\"\r\nimport ViewTickets from \"./ViewTickets\"\r\nimport Footer from \"./Footer\"\r\nconst axios = require('axios').default;\r\n\r\n\r\nclass Main extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.Header = this.Header.bind(this)\r\n    this.Login = this.Login.bind(this)\r\n    this.handleChangeLogin = this.handleChangeLogin.bind(this)\r\n    this.handleSubmitLogin = this.handleSubmitLogin.bind(this)\r\n        this.state ={\r\n            loggedIn: false,\r\n            email: \"\",\r\n            password: \"\",\r\n            reason: ''\r\n        }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({loggedIn: JSON.parse(window.sessionStorage.getItem('loggedIn'))})\r\n  }\r\n\r\n  Header(){\r\n    console.log(this.state)\r\n    \r\n    if(this.state.loggedIn){\r\n      let obj = {\r\n        loggedIn: false,\r\n        email: \"\",\r\n        password: \"\",\r\n        userId: \"\"\r\n      }\r\n        return (\r\n            <div id=\"header\">\r\n                <ul>\r\n                    <li><Link to='home'><button>Home</button></Link></li>\r\n                    <li><Link to='viewTickets'><button>View Tickets</button></Link></li>\r\n                    <li onClick={\r\n                      ()=>{this.setState(obj);\r\n                      window.sessionStorage.setItem('loggedIn', false);\r\n                      window.sessionStorage.removeItem('ticketsCreated');\r\n                      window.sessionStorage.removeItem('date');\r\n                      window.sessionStorage.removeItem('seatNumber');\r\n                      window.sessionStorage.removeItem('forms');\r\n                      window.sessionStorage.removeItem('busId');\r\n                      window.sessionStorage.removeItem('totalAmount');\r\n                      // window.location.href = \"http://localhost:3000/home\"\r\n                      window.location.href = `${window.location.origin}/home`\r\n                      }}><button >Logout</button></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }else{\r\n        return (\r\n            <div id=\"header\">\r\n                <ul>\r\n                <li><Link to='home'><button>Home</button></Link></li>\r\n                    <li><Link to='signup'><button>Signup</button></Link></li>\r\n                    <li><Link to='login'><button>Login</button></Link></li>                   \r\n                </ul>\r\n            </div>\r\n        )            \r\n    }   \r\n}\r\n\r\n// _______________________________________________________________________\r\n\r\nhandleChangeLogin(e){\r\n  this.setState({[e.target.name]: e.target.value})\r\n  // console.log('called')\r\n}\r\nhandleSubmitLogin(e){\r\n  e.preventDefault() \r\n  document.getElementById(\"loginFormButton\").disabled = true; \r\n  const colour = document.getElementById(\"loginFormButton\").style.backgroundColor\r\n  document.getElementById(\"loginFormButton\").style.backgroundColor = 'grey'\r\n  \r\n  axios.post('https://bus-ticket-server.herokuapp.com/api/login',{\r\n  // axios.post('http://localhost:5000/api/login',{\r\n  email: this.state.email,\r\n      password: this.state.password\r\n  })\r\n  .then((res)=>{\r\n      const auth = res.data.login\r\n      if(auth){\r\n          this.setState({loggedIn: true})\r\n          this.setState({reason: res.data.reason})\r\n          window.sessionStorage.setItem('loggedIn', true)\r\n          window.sessionStorage.setItem('userId', res.data.userId)\r\n          setTimeout(()=>{\r\n            window.history.back() \r\n          },1000)\r\n                \r\n      }else{\r\n        this.setState({loggedIn: false})\r\n        this.setState({reason: res.data.reason})\r\n      }\r\n  })\r\n  .catch((err)=>{\r\n      console.log(err)\r\n      this.setState({reason: 'Axios error'})\r\n  })\r\n  .then(()=>{\r\n    if(!this.state.loggedIn){\r\n      document.getElementById(\"loginFormButton\").disabled = false;\r\n      document.getElementById(\"loginFormButton\").style.backgroundColor = colour\r\n    }\r\n  })\r\n}\r\n\r\nLogin(){ \r\n  if(this.state.loggedIn) {\r\n    return(\r\n      <form onSubmit={this.handleSubmitLogin} id=\"loginForm\">\r\n        <h2 style={{color: 'green'}}>You are now successfully Logged in!!!</h2>\r\n      </form>\r\n      )\r\n  }\r\n  else{\r\n return(\r\n      <form onSubmit={this.handleSubmitLogin} id=\"loginForm\">\r\n        <h2>Login to access your data & dont forget to Logout</h2>\r\n        <input  name='email' type=\"email\" onChange={this.handleChangeLogin} placeholder=\"Email Id\" />\r\n        <input type=\"password\" name='password' onChange={this.handleChangeLogin}  placeholder=\"Password\" />\r\n        <button id=\"loginFormButton\" type=\"submit\" > Login </button>\r\n        <h2 style={{color: 'red'}}>{this.state.reason}</h2>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n          <this.Header />\r\n          <Switch>\r\n            <Route exact path=\"/\">< PlanTrip /></Route>\r\n            <Route path=\"/home\">< PlanTrip /></Route>\r\n            <Route path=\"/plantrip\" >< PlanTrip /></Route>\r\n            <Route path=\"/selectbus\" >< SelectBus /></Route>\r\n            <Route path=\"/selectseats\" component={SelectSeats} />\r\n            <Route path=\"/payment\" >< PaymentForm /></Route>\r\n            <Route path=\"/login\" >< this.Login /></Route>\r\n            <Route path=\"/signup\" >< SignUpForm /></Route>\r\n            <Route path=\"/viewTickets\" >< ViewTickets /></Route>\r\n            <Route> <h2>Not Available</h2> </Route>\r\n          </Switch>\r\n          < Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","\nimport './App.css';\n// import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Main from './components/Main'\n\n\n\n  function App() {\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n          <Main />\n      </Router>     \n    );\n  }\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}